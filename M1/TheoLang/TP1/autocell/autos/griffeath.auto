2 dimensions of 0..3 end
next := ([0, 0] + 1) % 4
cnt := 0
if [-1, -1] = next then cnt := cnt + 1 end
if [-1, 0] = next then cnt := cnt + 1 end
if [-1, 1] = next then cnt := cnt + 1 end
if [0, -1] = next then cnt := cnt + 1 end
if [0, 1] = next then cnt := cnt + 1 end
if [1, -1] = next then cnt := cnt + 1 end
if [1, 0] = next then cnt := cnt + 1 end
if [1, 1] = next then cnt := cnt + 1 end
if cnt >= 3 then [0, 0] := next end
